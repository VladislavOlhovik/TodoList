(this["webpackJsonpit-incubator-todolist-ts"]=this["webpackJsonpit-incubator-todolist-ts"]||[]).push([[0],{105:function(t,e,a){},106:function(t,e,a){"use strict";a.r(e);var n,c,i=a(0),o=a.n(i),r=a(8),l=a.n(r),s=a(25),u=(a(86),a(136)),d=a(139),f=a(138),m=a(30),b=a(146),O=a(137),k=o.a.memo((function(t){console.log("AddItemForm");var e=Object(i.useState)(""),a=Object(m.a)(e,2),n=a[0],c=a[1],r=Object(i.useState)(null),l=Object(m.a)(r,2),s=l[0],d=l[1],f=function(){""!==n.trim()?(t.addItem(n),c("")):d("Title is required")};return o.a.createElement("div",null,o.a.createElement(b.a,{variant:"outlined",value:n,onChange:function(t){c(t.currentTarget.value)},onKeyPress:function(t){13===t.charCode&&f(),s&&d(null)},label:"Title",helperText:s,error:!!s}),o.a.createElement(u.a,{color:"primary",onClick:f},o.a.createElement(O.a,{fontSize:"large"})))})),T=a(63),E=a.n(T).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"api-key":"9209cc73-1dd6-4bef-bbf6-e01b3e14b107"}});!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(n||(n={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgenty=3]="Urgenty",t[t.Later=4]="Later"}(c||(c={}));var j=function(){return E.get("todo-lists")},h=function(t){return E.post("todo-lists",{title:t})},p=function(t){return E.delete("todo-lists/".concat(t))},v=function(t,e){return E.put("todo-lists/".concat(t),{title:e})},g=function(t){return E.get("/todo-lists/".concat(t,"/tasks"))},I=function(t,e){return E.post("/todo-lists/".concat(t,"/tasks"),{title:e})},C=function(t,e,a){return E.put("/todo-lists/".concat(t,"/tasks/").concat(e),a)},S=function(t,e){return E.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},D=o.a.memo((function(t){console.log("EditableSpan");var e=Object(i.useState)(!1),a=Object(m.a)(e,2),n=a[0],c=a[1],r=Object(i.useState)(""),l=Object(m.a)(r,2),s=l[0],u=l[1];return n?o.a.createElement(b.a,{value:s,onChange:function(t){u(t.currentTarget.value)},onBlur:function(){c(!1),t.onChange(s)},autoFocus:!0}):o.a.createElement("span",{onDoubleClick:function(){c(!0),u(t.title)},title:"to change it use a double click",className:t.isDone?"is-done":""},t.title)})),L=a(41),y=a(21),A=a(9),w={},F=function(t,e,a){return function(n,c){var i=c().tasks1[a].find((function(e){return e.id===t}));if(i){var o=Object(A.a)({title:i.title,description:i.description,status:i.status,priority:i.priority,startDate:i.startDate,deadline:i.deadline},e);C(a,t,o).then((function(c){n(function(t,e,a){return{type:"UPDATE_TASK",updateModel:e,todolistId:a,taskId:t}}(t,e,a))}))}}},N=a(147),x=o.a.memo((function(t){var e=Object(i.useCallback)((function(){return t.removeTask(t.task.id,t.id)}),[t.removeTask,t.task.id,t.id]),a=Object(i.useCallback)((function(e){t.changeTaskStatus(t.task.id,e.currentTarget.checked?n.Completed:n.New,t.id)}),[t.changeTaskStatus,t.task.id,t.id]),c=Object(i.useCallback)((function(e){t.changeTaskTitle(t.task.id,e,t.id)}),[t.changeTaskTitle,t.task.id,t.id]);return o.a.createElement("div",{key:t.task.id,style:{fontSize:"19px"}},o.a.createElement(N.a,{color:"primary",checked:t.task.status===n.Completed,onChange:a}),o.a.createElement(D,{onChange:c,title:t.task.title,isDone:t.task.status===n.Completed}),o.a.createElement(u.a,{onClick:e},o.a.createElement(f.a,null)))})),K=o.a.memo((function(t){var e=Object(s.b)();Object(i.useEffect)((function(){var a;e((a=t.id,function(t){g(a).then((function(e){var n=e.data.items.reverse();t(function(t,e){return{type:"SET_TASKS",tasks:t,todolistId:e}}(n,a))}))}))}),[]),console.log("TodoList");var a=t.tasks;"active"===t.filter&&(a=t.tasks.filter((function(t){return t.status===n.New}))),"completed"===t.filter&&(a=t.tasks.filter((function(t){return t.status===n.Completed})));var c=Object(i.useCallback)((function(){return t.changeFilter("all",t.id)}),[t.id,t.changeFilter]),r=Object(i.useCallback)((function(){return t.changeFilter("active",t.id)}),[t.id,t.changeFilter]),l=Object(i.useCallback)((function(){return t.changeFilter("completed",t.id)}),[t.id,t.changeFilter]),m=Object(i.useCallback)((function(){return t.removeTodolist(t.id)}),[t.id,t.removeTodolist]),b=Object(i.useCallback)((function(e){return t.addTasks(e,t.id)}),[t.addTasks,t.id]),O=Object(i.useCallback)((function(e){return t.changeTodoListTitle(e,t.id)}),[t.changeTodoListTitle,t.id]);return o.a.createElement("div",null,o.a.createElement("h3",null,o.a.createElement(D,{title:t.title,onChange:O}),o.a.createElement(u.a,{onClick:m},o.a.createElement(f.a,null))),o.a.createElement(k,{addItem:b}),o.a.createElement("div",null,a.map((function(e){return o.a.createElement(x,{changeTaskStatus:t.changeTaskStatus,changeTaskTitle:t.changeTaskTitle,removeTask:t.removeTask,task:e,id:t.id,key:e.id})}))),o.a.createElement("div",null,o.a.createElement(d.a,{size:"small",variant:"all"===t.filter?"contained":"text",onClick:c,color:"default"},"All"),o.a.createElement(d.a,{style:{margin:"0 5px"},size:"small",variant:"active"===t.filter?"contained":"text",onClick:r,color:"primary"},"Active"),o.a.createElement(d.a,{size:"small",variant:"completed"===t.filter?"contained":"text",onClick:l,color:"secondary"},"Completed")))})),M=a(140),R=a(141),_=a(143),H=a(144),z=a(145),P=a(107),U=a(142),V=[];var G=function(){var t=Object(s.b)(),e=Object(s.c)((function(t){return t})),a=e.todoLists,n=e.tasks1;Object(i.useEffect)((function(){t((function(t){j().then((function(e){t({type:"SET_TODOLISTS",todolists:e.data})}))}))}),[]);var c=Object(i.useCallback)((function(e,a){t(function(t,e){return function(a){I(e,t).then((function(t){a({type:"ADD-TASK",task:t.data.data.item})}))}}(e,a)),f("all",a)}),[t]),r=Object(i.useCallback)((function(e,a){t(function(t,e){return function(a){S(e,t).then((function(n){a(function(t,e){return{type:"REMOVE-TASK",todolistId:e,taskId:t}}(t,e))}))}}(e,a))}),[t]),l=Object(i.useCallback)((function(e,a,n){t(F(e,{status:a},n))}),[t]),f=Object(i.useCallback)((function(e,a){t(function(t,e){return{type:"CHANGE-TODOLIST-FILTER",todolistId:t,filter:e}}(a,e))}),[t]),m=Object(i.useCallback)((function(e){t(function(t){return function(e){p(t).then((function(a){e(function(t){return{type:"REMOVE-TODOLIST",todolistId:t}}(t))}))}}(e))}),[t]),b=Object(i.useCallback)((function(e){t(function(t){return function(e){h(t).then((function(t){e({type:"ADD-TODOLIST",todolist:t.data.data.item})}))}}(e))}),[t]),O=Object(i.useCallback)((function(e,a,n){t(F(e,{title:a},n))}),[t]),T=Object(i.useCallback)((function(e,a){var n,c;t((n=a,c=e,function(t){v(n,c).then((function(e){t(function(t,e){return{type:"CHANGE-TODOLIST-TITLE",todolistId:t,title:e}}(n,c))}))}))}),[t]);return o.a.createElement("div",{className:"App"},o.a.createElement(M.a,{position:"static"},o.a.createElement(R.a,null,o.a.createElement(u.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(U.a,null)),o.a.createElement(_.a,{variant:"h6"},"News"),o.a.createElement(d.a,{color:"inherit"},"Login"))),o.a.createElement(H.a,{fixed:!0},o.a.createElement(z.a,{container:!0,style:{padding:"20px"}},o.a.createElement(k,{addItem:b})),o.a.createElement(z.a,{container:!0,spacing:3},a.map((function(t){var e=n[t.id];return o.a.createElement(z.a,{item:!0,key:t.id},o.a.createElement(P.a,{elevation:8,style:{padding:"10px"}},o.a.createElement(K,{id:t.id,title:t.title,tasks:e,removeTask:r,changeFilter:f,addTasks:c,changeTaskStatus:l,filter:t.filter,removeTodolist:m,changeTaskTitle:O,changeTodoListTitle:T})))})))))};a(105),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B=a(27),J=a(64),W=Object(B.c)({todoLists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TODOLIST":return t.filter((function(t){return t.id!==e.todolistId}));case"ADD-TODOLIST":return[Object(A.a)(Object(A.a)({},e.todolist),{},{filter:"all"})].concat(Object(L.a)(t));case"CHANGE-TODOLIST-TITLE":var a=t.map((function(t){return t.id===e.todolistId?Object(A.a)(Object(A.a)({},t),{},{title:e.title}):t}));return a;case"CHANGE-TODOLIST-FILTER":var n=t.map((function(t){return t.id===e.todolistId?Object(A.a)(Object(A.a)({},t),{},{filter:e.filter}):t}));return n;case"SET_TODOLISTS":return e.todolists.map((function(t){return Object(A.a)(Object(A.a)({},t),{},{filter:"all"})}));default:return t}},tasks1:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"REMOVE-TASK":return Object(A.a)(Object(A.a)({},t),{},Object(y.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case"ADD-TASK":return Object(A.a)(Object(A.a)({},t),{},Object(y.a)({},e.task.todoListId,[].concat(Object(L.a)(t[e.task.todoListId]),[e.task])));case"UPDATE_TASK":return Object(A.a)(Object(A.a)({},t),{},Object(y.a)({},e.todolistId,t[e.todolistId].map((function(t){return t.id===e.taskId?Object(A.a)(Object(A.a)({},t),e.updateModel):t}))));case"ADD-TODOLIST":return Object(A.a)(Object(A.a)({},t),{},Object(y.a)({},e.todolist.id,[]));case"SET_TODOLISTS":var a=Object(A.a)({},t);return e.todolists.forEach((function(t){a[t.id]=[]})),a;case"SET_TASKS":return Object(A.a)(Object(A.a)({},t),{},Object(y.a)({},e.todolistId,e.tasks));case"REMOVE-TODOLIST":var n=Object(A.a)({},t);return delete n[e.todolistId],n;default:return t}}}),q=Object(B.d)(W,Object(B.a)(J.a));l.a.render(o.a.createElement(s.a,{store:q},o.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},74:function(t,e,a){t.exports=a(106)},86:function(t,e,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.10d9b9cf.chunk.js.map